<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Documentation for Android Tamer">
        <meta name="author" content="AndroidTamer Team">
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <meta name="twitter:card" content="summary" />
        
        <meta name="twitter:site" content="https://www.twitter.com/androidtamer" />
        
        <meta name="twitter:title" content="AndroidTamer" />
        <meta property="og:title" content="AndroidTamer" />
        <meta property="og:url" content="" />
        
        <meta property="og:description" content="Documentation for Android Tamer" />
        <meta name="twitter:description" content="Documentation for Android Tamer" />
        
        
        <title>02 Hardcoding Issues - AndroidTamer</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        
        
        <link rel="stylesheet" href="../../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">AndroidTamer</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Application</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Development/Application/basics/">Basic Development Tools</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">ROM Development</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Development/ROM Development/fastboot/">Fastboot</a>
</li>

        
            
<li >
    <a href="../../../Development/ROM Development/heimdall/">Heimdall</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Examples/adb/">Adb</a>
</li>

                        
                            
<li >
    <a href="../../../Examples/fastboot/">Fastboot</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../General/decompile/">Decompiling Application</a>
</li>

                        
                            
<li >
    <a href="../../../General/multi_devices/">Managing multiple devices</a>
</li>

                        
                            
<li >
    <a href="../../../General/packages/">Packages</a>
</li>

                        
                            
<li >
    <a href="../../../General/python_packages/">Python packages</a>
</li>

                        
                            
<li >
    <a href="../../../General/repo_configure/">AndroidTamer Repository in Debian 8</a>
</li>

                        
                            
<li >
    <a href="../../../General/running_emulator/">Emulator</a>
</li>

                        
                            
<li >
    <a href="../../../General/screenshot/">How to take screenshots of device</a>
</li>

                        
                            
<li >
    <a href="../../../General/tools_mindmap/">MindMap: Tools Present in AndroidTamer</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Security Assessment <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Automated Analysis</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Security Assessment/Automated Analysis/MobSF/">MobSF: Mobile Security Framework</a>
</li>

        
            
<li >
    <a href="../../../Security Assessment/Automated Analysis/drozer/">Drozer</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Manual Analysis</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Security Assessment/Manual Analysis/APKTool/">APKTool</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Pentesting</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Security Assessment/Pentesting/Burpsuite/">Burpsuite</a>
</li>

        
            
<li >
    <a href="../../../Security Assessment/Pentesting/nikto/">Nikto</a>
</li>

        
            
<li >
    <a href="../../../Security Assessment/Pentesting/nmap/">Nmap</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Training <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../">Home</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">DIVA</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../00_Home/">00 Home</a>
</li>

        
            
<li >
    <a href="../01_Insecure_Logging/">01 Insecure Logging</a>
</li>

        
            
<li class="active">
    <a href="./">02 Hardcoding Issues</a>
</li>

        
            
<li >
    <a href="../03_Insecure_Data_Storage_P1/">03 Insecure Data Storage P1</a>
</li>

        
            
<li >
    <a href="../04_Insecure_Data_Storage_P2/">04 Insecure Data Storage P2</a>
</li>

        
            
<li >
    <a href="../05_Insecure_Data_Storage_P3/">05 Insecure Data Storage P3</a>
</li>

        
            
<li >
    <a href="../06_Insecure_Data_Storage_P4/">06 Insecure Data Storage P4</a>
</li>

        
            
<li >
    <a href="../07_Input_Validation_Issues_P1/">07 Input Validation Issues P1</a>
</li>

        
            
<li >
    <a href="../08_Input_Validation_Issues_P2/">08 Input Validation Issues P2</a>
</li>

        
            
<li >
    <a href="../09_Access_Control_Issues_P1/">09 Access Control Issues P1</a>
</li>

        
            
<li >
    <a href="../10_Access_Control_Issues_P2/">10 Access Control Issues P2</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fa fa-search"></i> Search
                        </a>
                    </li>
                
                
                
                    <li>
                        <a href="https://www.twitter.com/androidtamer"><i class="fa fa-twitter fa-lg"></i></a>
                    </li>
                
                
                    <li>
                        <a href="https://www.facebook.com/AndroidTamer"><i class="fa fa-facebook fa-lg"></i></a>
                    </li>
                
                
                
                    <li>
                        <a href="https://webchat.freenode.net/?url=irc://irc.freenode.net/androidtamer"><i class="fa fa-hashtag fa-lg"></i></a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/AndroidTamer/Tools/">
                            
                                <i class="fa fa-github fa-lg"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                
                    <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#hardcoding-issues">Hardcoding Issues</a></li>
        
            <li><a href="#takeaway">Takeaway</a></li>
        
    
    </ul>
</div></div>
                    <div class="col-md-9" role="main">

<div class="content">


<h2 id="hardcoding-issues">Hardcoding Issues</h2>
<p>When you look at the second challenge, the objective says <em>to find out what is hardcoded and where</em></p>
<p><center><img alt="Hardcoded Credentials 1" src="../../../images/vuln_apps/DIVA/Challenge_2a.png" /></center></p>
<p>There are different ways to check the hardcoded values in an Android app, but most popular method is to <a href="../../../General/decompile/" target="_blank">decompile the APK file</a> and look at the pseudo-source code.</p>
<p>Before directly jumping into decompilation tools, lets learn a few basics.</p>
<p>APK is a package file format used by Android operating system. One could view the contents of the APK file by just unzipping it. Android apps are coded in Java, but when you compile the app using Android Studio, the java code is converted to Dalvik bytecode instead of Java bytecode. All the Java code is collectively compiled into a single Dalvik bytecode file called <code>classes.dex</code>. Inorder to view the code of an app, we have to decompile the <code>classes.dex</code> file.</p>
<p>Let's start hunting for the hardcoded value.</p>
<p>Right click the apk file and click <code>Extract Here</code> option to unzip the file.</p>
<p><center><img alt="Hardcoded Credentials 2" src="../../../images/vuln_apps/DIVA/Challenge_2b.png" /></center></p>
<p>Now the contents will be in the directory <code>jakhar.aseem.diva-1.apk_FILES</code>. (<em>It may differ in your case as the folder is created as per the apk file's name.</em>) Enter the folder and you can see a few folders and files.</p>
<p><center><img alt="Hardcoded Credentials 3" src="../../../images/vuln_apps/DIVA/Challenge_2c.png" /></center></p>
<p>As mentioned before, to view the code we have to decompile <code>classes.dex</code> file. We can use a tool called <strong><code>dex2jar</code></strong>. It converts Android <code>.dex</code> file to Java <code>.jar</code> file. Execute <strong><code>d2j-dex2jar.sh classes.dex</code></strong>. The command creates a new file <code>classes-dex2jar.jar</code></p>
<p><center><img alt="Hardcoded Credentials 4" src="../../../images/vuln_apps/DIVA/Challenge_2d.png" /></center></p>
<p>Now we can use a Java decompiler to view the code in the created <code>.jar</code> file. Execute <strong><code>jd-gui classes-dex2jar.jar</code></strong>. This command create a GUI window and displays the Java pseudo-code of the <code>classes-dex2jar.jar</code> file. From the name of the challenge <em>we understand that its class name would be something like HardcodeActivity.class</em>. Click on the class file. On viewing the code, it is clearly visible that the app checks for the value <strong><code>vendorsecretkey</code></strong>.</p>
<p><center><img alt="Hardcoded Credentials 5" src="../../../images/vuln_apps/DIVA/Challenge_2e.png" /></center></p>
<p>Type the key in the Android app.</p>
<p><center><img alt="Hardcoded Credentials 6" src="../../../images/vuln_apps/DIVA/Challenge_2f.png" /></center></p>
<h3 id="takeaway">Takeaway</h3>
<ul>
<li>APK is a file packaging format and could be unzipped</li>
<li>Java gets compiled to Dalvik bytecode when you build an app</li>
<li><strong><code>dex2jar</code></strong> - converts the <code>classes.dex</code> file to <code>.jar</code> file</li>
<li><strong><code>jd-gui</code></strong> - Java decompiler which can be used to decompile <code>.jar</code> files and show the pseudo-code contained in them.</li>
</ul>

</div></div>
                
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p><b>&copy; AndroidTamer Team</b></p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> - Last updated : 2017-12-26</p>
        </footer>

        <script src="../../../js/jquery-1.12.3.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        
        <script>var base_url = '../../..';</script>

        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>

        <script src="../../../js/base.js"></script>
        <script src="../../../search/require.js"></script>
        <script src="../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>